<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SAMSIM: SAMSIM Semi-Adaptive Multi-phase Sea-Ice Model V2.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SAMSIM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SAMSIM Semi-Adaptive Multi-phase Sea-Ice Model V2.0 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>V1.0 of this model was developed from scratch by Philipp Griewank during and after his PhD at Max Planck Institute of Meteorology from 2010-2014. Most elements of the model are described in the two papers "Insights into brine dynamics and sea ice desalination from a 1-D model study of gravity drainage" and "A 1-D modelling study of Arctic sea-ice salinity" of Griewank and Notz" which are both included in the repository.  V2.0 of SAMSIM is a minor expansion of V1.0 released in 2018. Most work was done by Niels Fuchs as part of his Master's thesis "The impact of snow on sea-ice salinity" at the Max Planck Institute of Meteorology from 2016-2017 (thesis also in repository). The biggest change is an improvement of the flushing parametrization, as well as the settings and forcings for a large amount of laboratory experiments Niels conducted, making it possible to run lab testcases with snow.</p>
<p><a class="el" href="SAMSIM_8f90.html">SAMSIM.f90</a> is the root program of the SAMSIM, the 1D thermodynamic Semi-Adaptive Multi-phase Sea-Ice Model. However, in <a class="el" href="SAMSIM_8f90.html">SAMSIM.f90</a> only the testcase and description thread are specified, which are then passed on to <a class="el" href="namespacemo__grotz.html" title="The most important module of SAMSIM. ">mo_grotz</a>, which is where most of the actual work is done, including timestepping. The code is intended to be understandable and subroutines, modules, functions, parameters, and global variables all have (more or less) doxygen compatible descriptions. Both a pdf and html documentation generated via doxygen are included under documentation.</p>
<p>WARNING: SAMSIM was developed and was/is used for scientific purposes. It likely contains a few undetected bugs, can easily be crashed by using non-logical input settings, and some of the descriptions and comments may be outdated. Always check the plausibility of the model results!</p>
<p>Getting started:</p><ul>
<li>A number of testcases are implemented in SAMSIM. Testcases 1, 2, 3, and 4 are intended as standard testcases which should give a first time user a feel for the model capabilities and serve as a basis to set up custom testcases. To familiarize yourself with the model I suggest running testcases 1-3 and plotting the output with the python plotting scripts provided. The details of each testcase are commented in <a class="el" href="mo__init_8f90.html">mo_init.f90</a>, and each plot script begins with a list of steps required.</li>
</ul>
<p>Running SAMSIM the first times.</p><ul>
<li>Make sure that all .f90 files are located in the same folder with the makefile.</li>
<li>Open the makefile with your editor of choice and choose the compiler and flags of choice.</li>
<li>Open <a class="el" href="SAMSIM_8f90.html">SAMSIM.f90</a>, set a testcase from 1-3, and edit the description string to fit your purpose.</li>
<li>Use make to compile the code, which produces the executable samsim.x .</li>
<li>Make sure a folder "output" is located in the folder with samsim.x .</li>
<li>Execute SAMSIM by running samsim.x .</li>
<li>Go into output folder</li>
<li>Copy the plot script from plotscripts to output</li>
<li>Follow the directions written in the plotscripts to plot the output.</li>
</ul>
<p>Running testcase 4.</p><ul>
<li>In contrast to testcase 1-3, testcase four requires input files. Input data for testcase is provided in the input folder. Choose one of the subfolders from input/ERA-interim/, copy the *.input files into the folder with the code, and run the executable .samsim.x .</li>
</ul>
<p>Following modules have a good documentation (both in the code and refman.pdf)</p><ul>
<li><a class="el" href="mo__heat__fluxes_8f90.html">mo_heat_fluxes.f90</a></li>
<li><a class="el" href="mo__layer__dynamics_8f90.html">mo_layer_dynamics.f90</a></li>
<li><a class="el" href="mo__init_8f90.html">mo_init.f90</a></li>
</ul>
<p>Biogeochemical tracers can be activated with bgc_flag=2.</p><ul>
<li>Warning! This feature was implemented at the end of my PhD and not used much. As a result it has not been thouroughly tested.</li>
<li>The model will track Nbgc number of individual tracer.</li>
<li>Especially if you are interested in dissolved gases, you should first make yourself familiar with the bgc_advection subroutine in <a class="el" href="mo__mass_8f90.html">mo_mass.f90</a>.</li>
</ul>
<p>Know issues/Tips and Tricks:</p><ul>
<li>If code changes have no effect, run "make clean" and then "make", for unknown reasons this is often needed when making changes to <a class="el" href="mo__parameters_8f90.html">mo_parameters.f90</a></li>
<li>When bug hunting increase thick_0 and dt, this way the model runs faster, and the output is easier to sort through.</li>
<li>Use debug_flag= 2 to output data of each layer at each timestep. Be careful, the output size can become very large!</li>
<li>Check dat_settings to keep track of runs, and use the description variable to keep track of experiments.</li>
<li>Contact me :)</li>
</ul>
<p>Contacts:</p><ul>
<li>Philipp Griewank: <a href="#" onclick="location.href='mai'+'lto:'+'phi'+'li'+'pp.'+'gr'+'iew'+'an'+'k@u'+'ni'+'-ko'+'el'+'n.d'+'e'; return false;">phili<span style="display: none;">.nosp@m.</span>pp.g<span style="display: none;">.nosp@m.</span>riewa<span style="display: none;">.nosp@m.</span>nk@u<span style="display: none;">.nosp@m.</span>ni-ko<span style="display: none;">.nosp@m.</span>eln.<span style="display: none;">.nosp@m.</span>de</a></li>
<li>Niels Fuchs: <a href="#" onclick="location.href='mai'+'lto:'+'nie'+'ls'+'.fu'+'ch'+'s@a'+'wi'+'.de'; return false;">niels<span style="display: none;">.nosp@m.</span>.fuc<span style="display: none;">.nosp@m.</span>hs@aw<span style="display: none;">.nosp@m.</span>i.de</a></li>
<li>Dirk Notz: <a href="#" onclick="location.href='mai'+'lto:'+'dir'+'k.'+'not'+'z@'+'mpi'+'me'+'t.m'+'pg'+'.de'; return false;">dirk.<span style="display: none;">.nosp@m.</span>notz<span style="display: none;">.nosp@m.</span>@mpim<span style="display: none;">.nosp@m.</span>et.m<span style="display: none;">.nosp@m.</span>pg.de</a></li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Philipp Griewank</dd></dl>
<p>COPYRIGHT</p>
<p>This file is part of SAMSIM.</p>
<p>SAMSIM is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>SAMSIM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with SAMSIM. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<dl class="section user"><dt>Revision History</dt><dd>Started by Philipp Griewank 2014-05-05 <br />
 nothing changed here by Niels Fuchs, MPIMET (2017-03-01) <br />
 License changed by Philipp Griewank 2018-05-22 <br />
 V2.0 finalized by Philipp Griewank 2018-08-29 <br />
</dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
